<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>MasterAddressTracker (Apache HBase 1.2.10 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MasterAddressTracker (Apache HBase 1.2.10 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MasterAddressTracker.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/zookeeper/LoadBalancerTracker.html" title="class in org.apache.hadoop.hbase.zookeeper"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/zookeeper/MetaTableLocator.html" title="class in org.apache.hadoop.hbase.zookeeper"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/zookeeper/MasterAddressTracker.html" target="_top">Frames</a></li>
<li><a href="MasterAddressTracker.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_org.apache.hadoop.hbase.zookeeper.ZooKeeperNodeTracker">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hbase.zookeeper</div>
<h2 title="Class MasterAddressTracker" class="title">Class MasterAddressTracker</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html" title="class in org.apache.hadoop.hbase.zookeeper">org.apache.hadoop.hbase.zookeeper.ZooKeeperListener</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html" title="class in org.apache.hadoop.hbase.zookeeper">org.apache.hadoop.hbase.zookeeper.ZooKeeperNodeTracker</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hbase.zookeeper.MasterAddressTracker</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="../../../../../org/apache/hadoop/hbase/classification/InterfaceAudience.Private.html" title="annotation in org.apache.hadoop.hbase.classification">@InterfaceAudience.Private</a>
public class <span class="strong">MasterAddressTracker</span>
extends <a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperNodeTracker</a></pre>
<div class="block">Manages the location of the current active Master for the RegionServer.
 <p>
 Listens for ZooKeeper events related to the master address. The node
 <code>/master</code> will contain the address of the current master.
 This listener is interested in
 <code>NodeDeleted</code> and <code>NodeCreated</code> events on
 <code>/master</code>.
 <p>
 Utilizes <a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html" title="class in org.apache.hadoop.hbase.zookeeper"><code>ZooKeeperNodeTracker</code></a> for zk interactions.
 <p>
 You can get the current master via <a href="../../../../../org/apache/hadoop/hbase/zookeeper/MasterAddressTracker.html#getMasterAddress()"><code>getMasterAddress()</code></a> or via
 <a href="../../../../../org/apache/hadoop/hbase/zookeeper/MasterAddressTracker.html#getMasterAddress(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher)"><code>getMasterAddress(ZooKeeperWatcher)</code></a> if you do not have a running
 instance of this Tracker in your context.
 <p>
 This class also includes utility for interacting with the master znode, for
 writing and reading the znode content.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.apache.hadoop.hbase.zookeeper.ZooKeeperNodeTracker">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.hadoop.hbase.zookeeper.<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperNodeTracker</a></h3>
<code><a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html#abortable">abortable</a>, <a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html#LOG">LOG</a>, <a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html#node">node</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.apache.hadoop.hbase.zookeeper.ZooKeeperListener">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.hadoop.hbase.zookeeper.<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperListener</a></h3>
<code><a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html#watcher">watcher</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/hadoop/hbase/zookeeper/MasterAddressTracker.html#MasterAddressTracker(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher,%20org.apache.hadoop.hbase.Abortable)">MasterAddressTracker</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;watcher,
                    <a href="../../../../../org/apache/hadoop/hbase/Abortable.html" title="interface in org.apache.hadoop.hbase">Abortable</a>&nbsp;abortable)</code>
<div class="block">Construct a master address listener with the specified
 <code>zookeeper</code> reference.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/zookeeper/MasterAddressTracker.html#deleteIfEquals(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher,%20java.lang.String)">deleteIfEquals</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;zkw,
              <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;content)</code>
<div class="block">delete the master znode if its content is same as the parameter</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/zookeeper/MasterAddressTracker.html#getBackupMasterInfoPort(org.apache.hadoop.hbase.ServerName)">getBackupMasterInfoPort</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code>
<div class="block">Get the info port of the backup master if it is available.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/zookeeper/MasterAddressTracker.html#getMasterAddress()">getMasterAddress</a></strong>()</code>
<div class="block">Get the address of the current master if one is available.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/zookeeper/MasterAddressTracker.html#getMasterAddress(boolean)">getMasterAddress</a></strong>(boolean&nbsp;refresh)</code>
<div class="block">Get the address of the current master if one is available.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/zookeeper/MasterAddressTracker.html#getMasterAddress(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher)">getMasterAddress</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;zkw)</code>
<div class="block">Get master address.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/zookeeper/MasterAddressTracker.html#getMasterInfoPort()">getMasterInfoPort</a></strong>()</code>
<div class="block">Get the info port of the current master of one is available.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/zookeeper/MasterAddressTracker.html#getMasterInfoPort(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher)">getMasterInfoPort</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;zkw)</code>
<div class="block">Get master info port.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/zookeeper/MasterAddressTracker.html#hasMaster()">hasMaster</a></strong>()</code>
<div class="block">Check if there is a master available.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static org.apache.hadoop.hbase.protobuf.generated.ZooKeeperProtos.Master</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/zookeeper/MasterAddressTracker.html#parse(byte[])">parse</a></strong>(byte[]&nbsp;data)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/zookeeper/MasterAddressTracker.html#setMasterAddress(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher,%20java.lang.String,%20org.apache.hadoop.hbase.ServerName,%20int)">setMasterAddress</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;zkw,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;znode,
                <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;master,
                int&nbsp;infoPort)</code>
<div class="block">Set master address into the <code>master</code> znode or into the backup
 subdirectory of backup masters; switch off the passed in <code>znode</code>
 path.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.hadoop.hbase.zookeeper.ZooKeeperNodeTracker">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.hadoop.hbase.zookeeper.<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperNodeTracker</a></h3>
<code><a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html#blockUntilAvailable()">blockUntilAvailable</a>, <a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html#blockUntilAvailable(long,%20boolean)">blockUntilAvailable</a>, <a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html#checkIfBaseNodeAvailable()">checkIfBaseNodeAvailable</a>, <a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html#getData(boolean)">getData</a>, <a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html#getNode()">getNode</a>, <a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html#nodeCreated(java.lang.String)">nodeCreated</a>, <a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html#nodeDataChanged(java.lang.String)">nodeDataChanged</a>, <a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html#nodeDeleted(java.lang.String)">nodeDeleted</a>, <a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html#start()">start</a>, <a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html#stop()">stop</a>, <a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html#toString()">toString</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.hadoop.hbase.zookeeper.ZooKeeperListener">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.hadoop.hbase.zookeeper.<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperListener</a></h3>
<code><a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html#getWatcher()">getWatcher</a>, <a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html#nodeChildrenChanged(java.lang.String)">nodeChildrenChanged</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MasterAddressTracker(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.Abortable)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MasterAddressTracker</h4>
<pre>public&nbsp;MasterAddressTracker(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;watcher,
                    <a href="../../../../../org/apache/hadoop/hbase/Abortable.html" title="interface in org.apache.hadoop.hbase">Abortable</a>&nbsp;abortable)</pre>
<div class="block">Construct a master address listener with the specified
 <code>zookeeper</code> reference.
 <p>
 This constructor does not trigger any actions, you must call methods
 explicitly.  Normally you will just want to execute <a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperNodeTracker.html#start()"><code>ZooKeeperNodeTracker.start()</code></a> to
 begin tracking of the master address.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>watcher</code> - zk reference and watcher</dd><dd><code>abortable</code> - abortable in case of fatal error</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getMasterAddress()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMasterAddress</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;getMasterAddress()</pre>
<div class="block">Get the address of the current master if one is available.  Returns null
 if no current master.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Server name or null if timed out.</dd></dl>
</li>
</ul>
<a name="getMasterInfoPort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMasterInfoPort</h4>
<pre>public&nbsp;int&nbsp;getMasterInfoPort()</pre>
<div class="block">Get the info port of the current master of one is available.
 Return 0 if no current master or zookeeper is unavailable</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>info port or 0 if timed out</dd></dl>
</li>
</ul>
<a name="getBackupMasterInfoPort(org.apache.hadoop.hbase.ServerName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBackupMasterInfoPort</h4>
<pre>public&nbsp;int&nbsp;getBackupMasterInfoPort(<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</pre>
<div class="block">Get the info port of the backup master if it is available.
 Return 0 if no backup master or zookeeper is unavailable</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>sn</code> - server name of backup master</dd>
<dt><span class="strong">Returns:</span></dt><dd>info port or 0 if timed out or exceptions</dd></dl>
</li>
</ul>
<a name="getMasterAddress(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMasterAddress</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;getMasterAddress(boolean&nbsp;refresh)</pre>
<div class="block">Get the address of the current master if one is available.  Returns null
 if no current master. If refresh is set, try to load the data from ZK again,
 otherwise, cached data will be used.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>refresh</code> - whether to refresh the data by calling ZK directly.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Server name or null if timed out.</dd></dl>
</li>
</ul>
<a name="getMasterAddress(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMasterAddress</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;getMasterAddress(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;zkw)
                                   throws org.apache.zookeeper.KeeperException,
                                          <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get master address.
 Use this instead of <a href="../../../../../org/apache/hadoop/hbase/zookeeper/MasterAddressTracker.html#getMasterAddress()"><code>getMasterAddress()</code></a> if you do not have an
 instance of this tracker in your context.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>zkw</code> - ZooKeeperWatcher to use</dd>
<dt><span class="strong">Returns:</span></dt><dd>ServerName stored in the the master address znode or null if no
 znode present.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getMasterInfoPort(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMasterInfoPort</h4>
<pre>public static&nbsp;int&nbsp;getMasterInfoPort(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;zkw)
                             throws org.apache.zookeeper.KeeperException,
                                    <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get master info port.
 Use this instead of <a href="../../../../../org/apache/hadoop/hbase/zookeeper/MasterAddressTracker.html#getMasterInfoPort()"><code>getMasterInfoPort()</code></a> if you do not have an
 instance of this tracker in your context.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>zkw</code> - ZooKeeperWatcher to use</dd>
<dt><span class="strong">Returns:</span></dt><dd>master info port in the the master address znode or null if no
 znode present.
 // TODO can't return null for 'int' return type. non-static verison returns 0</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="setMasterAddress(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, java.lang.String, org.apache.hadoop.hbase.ServerName, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMasterAddress</h4>
<pre>public static&nbsp;boolean&nbsp;setMasterAddress(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;zkw,
                       <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;znode,
                       <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;master,
                       int&nbsp;infoPort)
                                throws org.apache.zookeeper.KeeperException</pre>
<div class="block">Set master address into the <code>master</code> znode or into the backup
 subdirectory of backup masters; switch off the passed in <code>znode</code>
 path.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>zkw</code> - The ZooKeeperWatcher to use.</dd><dd><code>znode</code> - Where to create the znode; could be at the top level or it
 could be under backup masters</dd><dd><code>master</code> - ServerName of the current master must not be null.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if node created, false if not; a watch is set in both cases</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd></dl>
</li>
</ul>
<a name="hasMaster()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasMaster</h4>
<pre>public&nbsp;boolean&nbsp;hasMaster()</pre>
<div class="block">Check if there is a master available.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if there is a master set, false if not.</dd></dl>
</li>
</ul>
<a name="parse(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parse</h4>
<pre>public static&nbsp;org.apache.hadoop.hbase.protobuf.generated.ZooKeeperProtos.Master&nbsp;parse(byte[]&nbsp;data)
                                                                               throws <a href="../../../../../org/apache/hadoop/hbase/exceptions/DeserializationException.html" title="class in org.apache.hadoop.hbase.exceptions">DeserializationException</a></pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>data</code> - zookeeper data. may be null</dd>
<dt><span class="strong">Returns:</span></dt><dd>pb object of master, null if no active master</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/exceptions/DeserializationException.html" title="class in org.apache.hadoop.hbase.exceptions">DeserializationException</a></code></dd></dl>
</li>
</ul>
<a name="deleteIfEquals(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>deleteIfEquals</h4>
<pre>public static&nbsp;boolean&nbsp;deleteIfEquals(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;zkw,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;content)</pre>
<div class="block">delete the master znode if its content is same as the parameter</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>zkw</code> - must not be null</dd><dd><code>content</code> - must not be null</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MasterAddressTracker.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/zookeeper/LoadBalancerTracker.html" title="class in org.apache.hadoop.hbase.zookeeper"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/zookeeper/MetaTableLocator.html" title="class in org.apache.hadoop.hbase.zookeeper"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/zookeeper/MasterAddressTracker.html" target="_top">Frames</a></li>
<li><a href="MasterAddressTracker.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_org.apache.hadoop.hbase.zookeeper.ZooKeeperNodeTracker">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2007&#x2013;2019 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
