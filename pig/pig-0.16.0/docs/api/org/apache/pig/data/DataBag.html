<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_71) on Wed Jun 01 23:11:13 PDT 2016 -->
<title>DataBag (Pig 0.16.0 API)</title>
<meta name="date" content="2016-06-01">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DataBag (Pig 0.16.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataBag.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/pig/data/BinSedesTupleFactory.html" title="class in org.apache.pig.data"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/pig/data/DataByteArray.html" title="class in org.apache.pig.data"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/pig/data/DataBag.html" target="_top">Frames</a></li>
<li><a href="DataBag.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.pig.data</div>
<h2 title="Interface DataBag" class="title">Interface DataBag</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="../../../../org/apache/pig/data/Tuple.html" title="interface in org.apache.pig.data">Tuple</a>&gt;, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</a>, <a href="../../../../org/apache/pig/impl/util/Spillable.html" title="interface in org.apache.pig.impl.util">Spillable</a>, org.apache.hadoop.io.Writable, org.apache.hadoop.io.WritableComparable</dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../org/apache/pig/data/AccumulativeBag.html" title="class in org.apache.pig.data">AccumulativeBag</a>, <a href="../../../../org/apache/pig/impl/util/avro/AvroBagWrapper.html" title="class in org.apache.pig.impl.util.avro">AvroBagWrapper</a>, <a href="../../../../org/apache/pig/data/DefaultAbstractBag.html" title="class in org.apache.pig.data">DefaultAbstractBag</a>, <a href="../../../../org/apache/pig/data/DefaultDataBag.html" title="class in org.apache.pig.data">DefaultDataBag</a>, <a href="../../../../org/apache/pig/data/DistinctDataBag.html" title="class in org.apache.pig.data">DistinctDataBag</a>, <a href="../../../../org/apache/pig/data/InternalCachedBag.html" title="class in org.apache.pig.data">InternalCachedBag</a>, <a href="../../../../org/apache/pig/data/InternalDistinctBag.html" title="class in org.apache.pig.data">InternalDistinctBag</a>, <a href="../../../../org/apache/pig/data/InternalSortedBag.html" title="class in org.apache.pig.data">InternalSortedBag</a>, <a href="../../../../org/apache/pig/data/NonSpillableDataBag.html" title="class in org.apache.pig.data">NonSpillableDataBag</a>, <a href="../../../../org/apache/pig/data/ReadOnceBag.html" title="class in org.apache.pig.data">ReadOnceBag</a>, <a href="../../../../org/apache/pig/data/SelfSpillBag.html" title="class in org.apache.pig.data">SelfSpillBag</a>, <a href="../../../../org/apache/pig/data/SingleTupleBag.html" title="class in org.apache.pig.data">SingleTupleBag</a>, <a href="../../../../org/apache/pig/data/SortedDataBag.html" title="class in org.apache.pig.data">SortedDataBag</a>, <a href="../../../../org/apache/pig/data/SortedSpillBag.html" title="class in org.apache.pig.data">SortedSpillBag</a></dd>
</dl>
<hr>
<br>
<pre><a href="../../../../org/apache/pig/classification/InterfaceAudience.Public.html" title="annotation in org.apache.pig.classification">@InterfaceAudience.Public</a>
<a href="../../../../org/apache/pig/classification/InterfaceStability.Stable.html" title="annotation in org.apache.pig.classification">@InterfaceStability.Stable</a>
public interface <span class="strong">DataBag</span>
extends <a href="../../../../org/apache/pig/impl/util/Spillable.html" title="interface in org.apache.pig.impl.util">Spillable</a>, org.apache.hadoop.io.WritableComparable, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="../../../../org/apache/pig/data/Tuple.html" title="interface in org.apache.pig.data">Tuple</a>&gt;, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</a></pre>
<div class="block">A collection of Tuples.  A DataBag may or may not fit into memory.
 DataBag extends spillable, which means that it registers with a memory
 manager.  By default, it attempts to keep all of its contents in memory.
 If it is asked by the memory manager to spill to disk (by a call to
 spill()), it takes whatever it has in memory, opens a spill file, and
 writes the contents out.  This may happen multiple times.  The bag
 tracks all of the files it's spilled to.
 <p>
 DataBag provides an Iterator interface, that allows callers to read
 through the contents.  The iterators are aware of the data spilling.
 They have to be able to handle reading from files, as well as the fact
 that data they were reading from memory may have been spilled to disk
 underneath them.
 <p>
 The DataBag interface assumes that all data is written before any is
 read.  That is, a DataBag cannot be used as a queue.  If data is written
 after data is read, the results are undefined.  This condition is not
 checked on each add or read, for reasons of speed.  Caveat emptor.
 <p>
 Since spills are asynchronous (the memory manager requesting a spill
 runs in a separate thread), all operations dealing with the mContents
 Collection (which is the collection of tuples contained in the bag) have
 to be synchronized.  This means that reading from a DataBag is currently
 serialized.  This is ok for the moment because pig execution is
 currently single threaded.  A ReadWriteLock was experimented with, but
 it was found to be about 10x slower than using the synchronize keyword.
 If pig changes its execution model to be multithreaded, we may need to
 return to this issue, as synchronizing reads will most likely defeat the
 purpose of multi-threading execution.
 <p>
 DataBags come in several types, default, sorted, and distinct.  The type
 must be chosen up front, there is no way to convert a bag on the fly.
 Default data bags do not guarantee any particular order of retrieval for 
 the tuples and may contain duplicate tuples.  Sorted data bags guarantee
 that tuples will be retrieved in order, where "in order" is defined either
 by the default comparator for Tuple or the comparator provided by the
 caller when the bag was created.  Sorted bags may contain duplicates.
 Distinct bags do not guarantee any particular order of retrieval, but do
 guarantee that they will not contain duplicate tuples.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/pig/data/DataBag.html#add(org.apache.pig.data.Tuple)">add</a></strong>(<a href="../../../../org/apache/pig/data/Tuple.html" title="interface in org.apache.pig.data">Tuple</a>&nbsp;t)</code>
<div class="block">Add a tuple to the bag.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/pig/data/DataBag.html#addAll(org.apache.pig.data.DataBag)">addAll</a></strong>(<a href="../../../../org/apache/pig/data/DataBag.html" title="interface in org.apache.pig.data">DataBag</a>&nbsp;b)</code>
<div class="block">Add contents of a bag to the bag.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/pig/data/DataBag.html#clear()">clear</a></strong>()</code>
<div class="block">Clear out the contents of the bag, both on disk and in memory.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/pig/data/DataBag.html#isDistinct()">isDistinct</a></strong>()</code>
<div class="block">Find out if the bag is distinct.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/pig/data/DataBag.html#isSorted()">isSorted</a></strong>()</code>
<div class="block">Find out if the bag is sorted.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../org/apache/pig/data/Tuple.html" title="interface in org.apache.pig.data">Tuple</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/pig/data/DataBag.html#iterator()">iterator</a></strong>()</code>
<div class="block">Get an iterator to the bag.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/pig/data/DataBag.html#markStale(boolean)">markStale</a></strong>(boolean&nbsp;stale)</code>
<div class="block">This is used by FuncEvalSpec.FakeDataBag.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/pig/data/DataBag.html#size()">size</a></strong>()</code>
<div class="block">Get the number of elements in the bag, both in memory and on disk.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.pig.impl.util.Spillable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.pig.impl.util.<a href="../../../../org/apache/pig/impl/util/Spillable.html" title="interface in org.apache.pig.impl.util">Spillable</a></h3>
<code><a href="../../../../org/apache/pig/impl/util/Spillable.html#getMemorySize()">getMemorySize</a>, <a href="../../../../org/apache/pig/impl/util/Spillable.html#spill()">spill</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.hadoop.io.Writable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.hadoop.io.Writable</h3>
<code>readFields, write</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Comparable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.lang.<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</a></h3>
<code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Comparable.html?is-external=true#compareTo(T)" title="class or interface in java.lang">compareTo</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>long&nbsp;size()</pre>
<div class="block">Get the number of elements in the bag, both in memory and on disk.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>number of elements in the bag</dd></dl>
</li>
</ul>
<a name="isSorted()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSorted</h4>
<pre>boolean&nbsp;isSorted()</pre>
<div class="block">Find out if the bag is sorted.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if this is a sorted data bag, false otherwise.</dd></dl>
</li>
</ul>
<a name="isDistinct()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDistinct</h4>
<pre>boolean&nbsp;isDistinct()</pre>
<div class="block">Find out if the bag is distinct.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if the bag is a distinct bag, false otherwise.</dd></dl>
</li>
</ul>
<a name="iterator()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>iterator</h4>
<pre><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../org/apache/pig/data/Tuple.html" title="interface in org.apache.pig.data">Tuple</a>&gt;&nbsp;iterator()</pre>
<div class="block">Get an iterator to the bag. For default and distinct bags,
 no particular order is guaranteed. For sorted bags the order
 is guaranteed to be sorted according
 to the provided comparator.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Iterable.html?is-external=true#iterator()" title="class or interface in java.lang">iterator</a></code>&nbsp;in interface&nbsp;<code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="../../../../org/apache/pig/data/Tuple.html" title="interface in org.apache.pig.data">Tuple</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>tuple iterator</dd></dl>
</li>
</ul>
<a name="add(org.apache.pig.data.Tuple)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>void&nbsp;add(<a href="../../../../org/apache/pig/data/Tuple.html" title="interface in org.apache.pig.data">Tuple</a>&nbsp;t)</pre>
<div class="block">Add a tuple to the bag.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>t</code> - tuple to add.</dd></dl>
</li>
</ul>
<a name="addAll(org.apache.pig.data.DataBag)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addAll</h4>
<pre>void&nbsp;addAll(<a href="../../../../org/apache/pig/data/DataBag.html" title="interface in org.apache.pig.data">DataBag</a>&nbsp;b)</pre>
<div class="block">Add contents of a bag to the bag.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>b</code> - bag to add contents of.</dd></dl>
</li>
</ul>
<a name="clear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>void&nbsp;clear()</pre>
<div class="block">Clear out the contents of the bag, both on disk and in memory.
 Any attempts to read after this is called will produce undefined
 results.</div>
</li>
</ul>
<a name="markStale(boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>markStale</h4>
<pre><a href="../../../../org/apache/pig/classification/InterfaceAudience.Private.html" title="annotation in org.apache.pig.classification">@InterfaceAudience.Private</a>
void&nbsp;markStale(boolean&nbsp;stale)</pre>
<div class="block">This is used by FuncEvalSpec.FakeDataBag.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>stale</code> - Set stale state.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataBag.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/pig/data/BinSedesTupleFactory.html" title="class in org.apache.pig.data"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/pig/data/DataByteArray.html" title="class in org.apache.pig.data"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/pig/data/DataBag.html" target="_top">Frames</a></li>
<li><a href="DataBag.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 2007-2012 The Apache Software Foundation</small></p>
</body>
</html>
